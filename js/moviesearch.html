<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>
<body style="height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: aliceblue; font-family: Arial, Helvetica, sans-serif;">
    <h2>movie Search Bar</h2>
    <div id="inputs">
        <input type="text" placeholder="Enter Movie Name" id="inp">
        <button id="btn" onclick="getMovieDetails()">Search</button>
    </div>
    <div id="container"></div>

    <script>
    let input = document.getElementById('inp');
    let container = document.getElementById('container');

    function getMovieDetails() {
        let searchText = input.value.trim();

        if (searchText === "") {
            alert("Please enter a movie name");
            return;
        }

        container.innerHTML = "<h3>Loading...</h3>";
        fetch(`https://api.tvmaze.com/search/shows?q=${searchText}`)

            .then(res => res.json())
            .then(data => displayDetails(data))
            .catch(err => {
                container.innerHTML = "<h3>Error fetching data</h3>";
                console.log(err);
            });
    }

    function displayDetails(shows) {
        container.innerHTML = "";

        if (shows.length === 0) {
            container.innerHTML = "<h3>No movies found üò¢</h3>";
            return;
        }

        shows.forEach(item => {
            let movie = item.show;

            let card = document.createElement('div');
            card.style.border = "1px solid #ccc";
            card.style.padding = "10px";
            card.style.margin = "10px";
            card.style.width = "250px";
            card.style.display = "inline-block";
            card.style.verticalAlign = "top";
            card.style.background = "white";

            card.innerHTML = `
                <img src="${movie.image ? movie.image.medium : ''}" width="100%">
                <h3>${movie.name}</h3>
                <p><b>Language:</b> ${movie.language}</p>
                <p><b>Rating:</b> ‚≠ê ${movie.rating.average || 'N/A'}</p>
                <p>${movie.summary ? movie.summary.substring(0, 80) : 'No description'}...</p>
            `;

            container.appendChild(card);
        });
    }
</script>
    <!-- <script>
    let input = document.getElementById('inp');
    let container = document.getElementById('container');

    function getMovieDetails(){
        fetch('https://api.tvmaze.com/search/shows?q=')
        .then(res => res.json())
        .then(result => {
            let movies = result.data;
            let searchText = input.value.toLowerCase();

            let filtered = movies.filter(movie =>
                movie.original_title.toLowerCase().includes(searchText)
            );

            displayDetails(filtered); // ‚úÖ name now matches
        })
        .catch(err => console.log(err));
    }
        
    function displayDetails(movies){
        container.innerHTML= "";

        movies.forEach(movie => {
            let card = document.createElement('div');
            card.style.border = "1px solid #ccc";
            card.style.padding = "10px";
            card.style.margin = "10px";
            card.style.width = "250px";
            card.style.display = "inline-block";
            card.style.verticalAlign = "top";
            card.style.background = "white";

            card.innerHTML = `
                <img src="${movie.poster_path}" width="100%">
                <h3>${movie.original_title}</h3>
                <p><b>Release:</b> ${movie.release_date}</p>
                <p><b>Rating:</b> ‚≠ê ${movie.vote_average}</p>
                <p>${movie.overview.substring(0, 80)}...</p>
            `;
            container.appendChild(card);
        });
    }
</script> -->

    <!-- <script>
        let input = document.getElementById('inp');
        let button = document.getElementById('btn');
        let container = document.getElementById('container');
        function getMovieDetails(){
            fetch('https://jsonfakery.com/movies/paginated')
            .then((res) =>res.json())
             .then(result => {
            let movies = result.data;
            let searchText = input.value.toLowerCase();

            let filtered = movies.filter(movie =>
                movie.original_title.toLowerCase().includes(searchText)
            );

            displayDetails(filtered);
        })
        .catch(err => console.log(err));
}
        
        function displayDetails(movies){
            container.innerHTML= "";

           movies.forEach(movie => {
            let card = document.createElement('div');
            card.style.border = "1px solid #ccc";
            card.style.padding = "10px";
            card.style.margin = "10px";
            card.style.width = "250px";
            card.style.display = "inline-block";
            card.style.verticalAlign = "top";

            card.innerHTML = `
            <img src="${movie.poster_path}" width="100%">
            <h3>${movie.original_title}</h3>
            <p><b>Release:</b> ${movie.release_date}</p>
            <p><b>Rating:</b> ‚≠ê ${movie.vote_average}</p>
            <p>${movie.overview.substring(0, 80)}...</p>
        `;
            container.appendChild(card);
           });

        }


    </script> -->
</body>
</html>