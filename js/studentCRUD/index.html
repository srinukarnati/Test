<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .hide{
            display: none;
        }
        #errors{
            color: red;
        }
    </style>

</head>
<body>
    <button id="btn">ADD Student</button>
    <form id="fr" class="hide">
        <input type="text" id="name" placeholder="Enter Name">
        <input type="email" id="email" placeholder="Enter Email">
        <input type="password" id="password" placeholder="Enter password">
        <button id="showpas" type="button">show</button>
        <input type="password" id="cnfrmpwd" placeholder="Enter password again">
        <button id="showpas1" type="button">show</button>
        <div id="errors"></div>
        <button type="submit">Submit</button>
    </form>


    <script>
        const form = document.getElementById("fr")
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const confirmpasswordInput = document.getElementById('cnfrmpwd');
        const errorsdiv = document.getElementById('errors')
        function add(){
            form.classList.toggle('hide')
            
        }
        document.getElementById("btn").addEventListener('click',add);
        function submitLogic(e){
            e.preventDefault();
            errorsdiv.textContent = ""
            if(nameInput.value==''){
                const p = document.createElement('p');
                p.textContent = "name is required";
                errorsdiv.append(p);
            }
            if(emailInput.value==''){
                const p = document.createElement('p');
                p.textContent = "email is required";
                errorsdiv.append(p);
            }
            if(passwordInput.value.trim()==''){
                const p = document.createElement('p');
                p.textContent = "password is required";
                errorsdiv.append(p);
            }
            if(confirmpasswordInput.value.trim()==''){
                const p = document.createElement('p');
                p.textContent = "re-enter password";
                errorsdiv.append(p);
            }
            if(passwordInput.value.length<=8){
                 const p = document.createElement('p');
                p.textContent = "PAssword should be alteast 8 characters";
                errorsdiv.append(p);
            }
            if(passwordInput.value!='' && confirmpasswordInput.value!='' && passwordInput.value != confirmpasswordInput.value){
                const p = document.createElement('p');
                p.textContent = "password and passwords are not matching";
                errorsdiv.append(p);
            }
            let emailregex = /^[A-Za-z0-9]{2,}+@[A-Za-z]{2,}+\.[A-Za-z]{2,}$/
            if(emailInput.value !='' && !emailregex.test(emailInput.value)){
                const p = document.createElement('p');
                p.textContent = "Please enter valid email";
                errorsdiv.append(p);
            }
            let passwordregex = /(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])/
            if(passwordInput.value !='' && !passwordregex.test(passwordInput.value)){
                const p = document.createElement('p');
                p.textContent = "Please enter valid email";
                errorsdiv.append(p);
            }
            
            
        }
        document.getElementById('fr').addEventListener('submit',submitLogic)
        document.getElementById('showpas').addEventListener('click',function(){
            passwordInput.type = passwordInput.type == 'password'? 'text': 'password';
        })
        document.getElementById('showpas1').addEventListener('click',function(){
            confirmpasswordInput.type = confirmpasswordInput.type == 'password'? 'text': 'password';
        })
    </script>

</body>
</html>